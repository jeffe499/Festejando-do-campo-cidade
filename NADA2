// === Acessibilidade e menu mobile ===
// Controles de contraste e fonte
document.getElementById('btn-contrast').addEventListener('click', () => {
  const isDark = document.body.classList.toggle('dark-mode');
  localStorage.setItem('darkMode', isDark ? 'enabled' : 'disabled');
});
document.getElementById('btn-font-increase').addEventListener('click', () => {
  const root = document.documentElement;
  const newPref = root.classList.contains('large-font') ? 'normal' : 'large';
  root.classList.toggle('large-font', newPref === 'large');
  localStorage.setItem('fontSize', newPref);
});
document.getElementById('btn-font-decrease').addEventListener('click', () => {
  const root = document.documentElement;
  const newPref = root.classList.contains('small-font') ? 'normal' : 'small';
  root.classList.toggle('small-font', newPref === 'small');
  localStorage.setItem('fontSize', newPref);
});
document.getElementById('btn-reset').addEventListener('click', () => {
  document.body.classList.remove('dark-mode');
  document.documentElement.classList.remove('large-font', 'small-font');
  localStorage.setItem('darkMode', 'disabled');
  localStorage.setItem('fontSize', 'normal');
});

// Carrega preferÃªncias ao iniciar
if (localStorage.getItem('darkMode') === 'enabled') {
  document.body.classList.add('dark-mode');
}
const fontPref = localStorage.getItem('fontSize') || 'normal';
if (fontPref === 'large') document.documentElement.classList.add('large-font');
if (fontPref === 'small') document.documentElement.classList.add('small-font');

// Menu mobile toggle
const navToggle = document.querySelector('.nav-toggle');
const menu      = document.querySelector('.menu');
navToggle.addEventListener('click', () => {
  menu.classList.toggle('menu--open');
  navToggle.classList.toggle('nav-toggle--open');
});

document.querySelectorAll('.menu a').forEach(link => {
  link.addEventListener('click', () => {
    menu.classList.remove('menu--open');
    navToggle.classList.remove('nav-toggle--open');
  });
});
